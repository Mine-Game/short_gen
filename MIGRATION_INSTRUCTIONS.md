# Инструкция по применению миграции UTM меток

## Проблема
Prisma клиент не видит новые UTM поля в схеме базы данных.

## Решение

### Вариант 1: Через командную строку (рекомендуется)
1. Откройте **командную строку** (cmd) или **PowerShell с правами администратора**
2. Перейдите в папку проекта:
   ```
   cd D:\Project_cursor\short_gen
   ```
3. Выполните команды:
   ```
   npx prisma generate
   npx prisma db push
   ```

### Вариант 2: Через редактор кода
1. Откройте терминал в VS Code / Cursor
2. Выполните:
   ```bash
   npx prisma generate
   npx prisma db push
   ```

### Вариант 3: Через готовые батники
1. Запустите файл `fix-migration.bat`
2. Или запустите `node apply-migration.js`

## Проверка успешности миграции
После выполнения команд перезапустите сервер разработки:
```
npm run dev
```

Если ошибки исчезли - миграция прошла успешно!

## Что изменится после миграции
1. ✅ Формы UTM меток станут функциональными
2. ✅ UTM метки будут сохраняться в базе данных
3. ✅ UTM метки будут отображаться в списке ссылок
4. ✅ UTM метки будут автоматически добавляться к переходам

## Текущий статус
- ✅ Интерфейс UTM форм работает
- ⏳ Сохранение UTM меток временно отключено
- ⏳ Отображение UTM меток временно отключено
- ✅ Базовая функциональность работает
